<html>
    <header>
        <link rel="stylesheet" type="text/css" href="index.css"> 
        <link rel="stylesheet" type="text/css" href="log-in.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@700&display=swap" rel="stylesheet">
    </header>
    <body class="flex-container">
            <div class="header">
                <div class="header-left">
                    <a href="index.html"><img src="fish.png" height="50" width="50" class="fish"></a>
                    <a href="index.html"><h1>Testy</h1></a>
                    <input type="search" id="site-search" name="q" placeholder="" class="mainsearch">
                </div>
                <div class="header-right">
                    <a href="log-in.html" class="log-in">Log in</a>
                    <img src="menu.png" height="100" width="100"class="menu" onclick="openNav()">
                </div>
              
            </div>
            <div class="center-box2" >
                <div class="center_part2">
                    <h1>Sign in</h1>
                        <div class="apps">
                            <img src="facebook.png"height="50" width="50"class="bilder">
                            <img src="google.png"height="50" width="50"class="bilder">
                            <img src="twitter.png"height="65" width="65"class="bilder">
                        </div>
                    <h2 class="left">Username:</h2>
                    <input type="search" id="site-search" name="q" placeholder="Type your username" class="mainLoginInput left user">
                    <h2 class="left">E-mail:</h2>
                    <input type="search" id="site-search" name="q" placeholder="Type your E-mail address" class="mainLoginInput left email">
                    <h2 class="left">Password:</h2>
                    <input type="password" id="site-search" name="q" placeholder="Type your password" class="mainLoginInput left password">
                    <a href="Log-in.html" class="sign-in-instead">Log in instead</a>
                    <a onclick="return signin()" class="button log-in">Sign in</a>
                </div>
            </div>
            <div id="mySidebar" class="sidebar">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="font-size: 36;">Ã—</a>
                <a href="#">About</a>
                <a href="#">Services</a>
                <a href="animation.html">Animations</a>
                <a href="#">Contact</a>
            </div>
            <script>
                function openNav() {
                    console.log ("test")
                    document.getElementById("mySidebar").style.width = "250px";
                }
                function closeNav() {
                    document.getElementById("mySidebar").style.width = "0";
                }
                async function signin() {
                    let username = document.querySelector (".user") .value
                    let password = document.querySelector (".password") .value
                    let email = document.querySelector (".email") .value
                    console.log("Email", email)
                    let body = JSON.stringify({password:password, username:username, email:email})
                    let responce = await fetch ("http://localhost:3000/b", {body:body, method:"post", headers: {'Content-Type':'application/json'},})
                    let ok = responce.status
                    if (ok == 200) {
                        window.localStorage.setItem ("username", username)
                        window.location = "/shop.html?username="+username
                        return
                    }
                    else {
                        alert("Please enter a other username")
                        document.querySelector (".password") .value = null
                    }
                }
            </script>
    </body>
</html>